import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import Sidebar from "./Sidebar.jsx";
import './FindMidpoint.css';
import addbuttonimg from "../../image/Vector.png";
import axios from 'axios';

const FindMidpoint = () => {
    const [addresses, setAddresses] = useState([
        { label: '', lat: null, lng: null },
        { label: '', lat: null, lng: null },
    ]);

    const [activeIndex, setActiveIndex] = useState(null);
    /*const [showAlert, setShowAlert] = useState(false); */
    
    const handleSelectAddress = (index, label, lat, lng) => {
    const newAddresses = [...addresses];
    newAddresses[index] = { label, lat, lng };
    setAddresses(newAddresses);
    setActiveIndex(null);
  };

    const handleAddFriend = () => {
        const newList = [...addresses];
        newList.splice(2, 0, { label: '', lat: null, lng: null });
        setAddresses(newList);
    };

    const navigate = useNavigate();

    const BACKEND_KEY = import.meta.env.VITE_BACKEND_DOMAIN_KEY

    const handleFindMidpoint = async () => {
        const allFilled = addresses.every(addr => addr.label && addr.lat !== null && addr.lng !== null);

        if (!allFilled) {
            alert("출발 장소를 입력해주세요."); 
            return;
        }

        const postData = {
            locations: addresses.map(addr => ({
                x: addr.lng,
                y: addr.lat
            }))
        };

        try {
            const response = await axios.post(`${BACKEND_KEY}/map/route`, postData);
            console.log('중간지점 응답:', response.data);
            navigate('/midresult', { state: { midpointData: response.data } });

        } catch (error) {
            console.error('중간지점 찾기 실패:', error);
            navigate('/midresult', { state: { midpointData: 
                [
                    {
                        "endX": 127.01969766666666,
                        "endY": 37.52463266666666,
                        "duration": 2043,
                        "distance": 8010,
                        "path": [
                            {
                                "x": 126.97938194849522,
                                "y": 37.572474266996885
                            },
                            {
                                "x": 126.97998161777362,
                                "y": 37.572497470855765
                            },
                            {
                                "x": 126.97998198641274,
                                "y": 37.572470442820425
                            },
                            {
                                "x": 126.98001643536992,
                                "y": 37.5724346988483
                            },
                            {
                                "x": 126.98006195769578,
                                "y": 37.57241707135359
                            },
                            {
                                "x": 126.98009591512788,
                                "y": 37.572417364739124
                            },
                            {
                                "x": 126.98012974969889,
                                "y": 37.5724266674605
                            },
                            {
                                "x": 126.98015214227235,
                                "y": 37.5724448817303
                            },
                            {
                                "x": 126.98016309284768,
                                "y": 37.572472007554936
                            },
                            {
                                "x": 126.98016309284768,
                                "y": 37.572472007554936
                            },
                            {
                                "x": 126.98056061413077,
                                "y": 37.57237632662827
                            },
                            {
                                "x": 126.98120789160642,
                                "y": 37.572228737623234
                            },
                            {
                                "x": 126.98123065257364,
                                "y": 37.57221992364511
                            },
                            {
                                "x": 126.98242124422627,
                                "y": 37.57207701552589
                            },
                            {
                                "x": 126.98271615360788,
                                "y": 37.57203450520831
                            },
                            {
                                "x": 126.98304428488868,
                                "y": 37.57204634280967
                            },
                            {
                                "x": 126.98304428488868,
                                "y": 37.57204634280967
                            },
                            {
                                "x": 126.9830309574162,
                                "y": 37.57136143681938
                            },
                            {
                                "x": 126.98302343616871,
                                "y": 37.57108204928633
                            },
                            {
                                "x": 126.98303855277355,
                                "y": 37.570802856758434
                            },
                            {
                                "x": 126.98300013758114,
                                "y": 37.57029794275241
                            },
                            {
                                "x": 126.9829797050707,
                                "y": 37.570135579303425
                            },
                            {
                                "x": 126.98295951766069,
                                "y": 37.56995519713311
                            },
                            {
                                "x": 126.98289528048825,
                                "y": 37.569684331311024
                            },
                            {
                                "x": 126.98287448078811,
                                "y": 37.569548995906175
                            },
                            {
                                "x": 126.98284322010808,
                                "y": 37.56935049746732
                            },
                            {
                                "x": 126.98281342986692,
                                "y": 37.569043886716976
                            },
                            {
                                "x": 126.98280309142021,
                                "y": 37.56897171432396
                            },
                            {
                                "x": 126.9827943458158,
                                "y": 37.56878242026776
                            },
                            {
                                "x": 126.98279520348636,
                                "y": 37.56871935475662
                            },
                            {
                                "x": 126.98274792271462,
                                "y": 37.568034155813315
                            },
                            {
                                "x": 126.98274358824358,
                                "y": 37.56752052475869
                            },
                            {
                                "x": 126.98272732279176,
                                "y": 37.567051842937644
                            },
                            {
                                "x": 126.98271931264179,
                                "y": 37.566808492652065
                            },
                            {
                                "x": 126.98270885201947,
                                "y": 37.566745329591114
                            },
                            {
                                "x": 126.98271068990117,
                                "y": 37.566610189165864
                            },
                            {
                                "x": 126.98267289106133,
                                "y": 37.56606022794891
                            },
                            {
                                "x": 126.98267289106133,
                                "y": 37.56606022794891
                            },
                            {
                                "x": 126.98345372395562,
                                "y": 37.56607596447475
                            },
                            {
                                "x": 126.98357822411928,
                                "y": 37.56607703644378
                            },
                            {
                                "x": 126.9841100570841,
                                "y": 37.56609062456307
                            },
                            {
                                "x": 126.98448343543484,
                                "y": 37.56610284736874
                            },
                            {
                                "x": 126.98573975642321,
                                "y": 37.56611364754011
                            },
                            {
                                "x": 126.98594336208066,
                                "y": 37.56612440703141
                            },
                            {
                                "x": 126.98743724464583,
                                "y": 37.56614623988339
                            },
                            {
                                "x": 126.98743724464583,
                                "y": 37.56614623988339
                            },
                            {
                                "x": 126.98747790645977,
                                "y": 37.565651015416016
                            },
                            {
                                "x": 126.98749324877261,
                                "y": 37.56535380305058
                            },
                            {
                                "x": 126.9875369580597,
                                "y": 37.56463334403302
                            },
                            {
                                "x": 126.98767801642992,
                                "y": 37.56424710541574
                            },
                            {
                                "x": 126.98859016053508,
                                "y": 37.56292138022431
                            },
                            {
                                "x": 126.98871989238575,
                                "y": 37.56253504316677
                            },
                            {
                                "x": 126.98882991004845,
                                "y": 37.56193228679481
                            },
                            {
                                "x": 126.98890609509228,
                                "y": 37.561320230077136
                            },
                            {
                                "x": 126.98895453056507,
                                "y": 37.561086373691374
                            },
                            {
                                "x": 126.98904884410389,
                                "y": 37.56080785797898
                            },
                            {
                                "x": 126.98911881798898,
                                "y": 37.56065527981044
                            },
                            {
                                "x": 126.98922262198901,
                                "y": 37.560512001664115
                            },
                            {
                                "x": 126.98932593878318,
                                "y": 37.56040476097654
                            },
                            {
                                "x": 126.98944045093607,
                                "y": 37.560306626454306
                            },
                            {
                                "x": 126.98957759744872,
                                "y": 37.56020868553285
                            },
                            {
                                "x": 126.98963467075315,
                                "y": 37.56017313224465
                            },
                            {
                                "x": 126.98995386673968,
                                "y": 37.56000466523563
                            },
                            {
                                "x": 126.9905568440794,
                                "y": 37.559775550999525
                            },
                            {
                                "x": 126.99098884427869,
                                "y": 37.55963507688452
                            },
                            {
                                "x": 126.99118269519946,
                                "y": 37.55952860823593
                            },
                            {
                                "x": 126.99169731283664,
                                "y": 37.55913654523857
                            },
                            {
                                "x": 126.99195090311615,
                                "y": 37.55879631415481
                            },
                            {
                                "x": 126.99243552927598,
                                "y": 37.55726867661534
                            },
                            {
                                "x": 126.99255621869258,
                                "y": 37.556711059288354
                            },
                            {
                                "x": 126.99256862715416,
                                "y": 37.556630071211764
                            },
                            {
                                "x": 126.99276756131086,
                                "y": 37.5561452047348
                            },
                            {
                                "x": 126.992942525821,
                                "y": 37.55575924827487
                            },
                            {
                                "x": 126.992942525821,
                                "y": 37.55575924827487
                            },
                            {
                                "x": 126.9931054445304,
                                "y": 37.55542725144377
                            },
                            {
                                "x": 126.99313207805194,
                                "y": 37.55513013398858
                            },
                            {
                                "x": 126.99332967123506,
                                "y": 37.55474436983584
                            },
                            {
                                "x": 126.99346837769941,
                                "y": 37.55452930175018
                            },
                            {
                                "x": 126.99667056460568,
                                "y": 37.54951971564492
                            },
                            {
                                "x": 126.99707518660279,
                                "y": 37.548883410978625
                            },
                            {
                                "x": 126.99999918905259,
                                "y": 37.544330897558446
                            },
                            {
                                "x": 127.0011426909708,
                                "y": 37.54259254588374
                            },
                            {
                                "x": 127.00145359542796,
                                "y": 37.54218970439972
                            },
                            {
                                "x": 127.00145359542796,
                                "y": 37.54218970439972
                            },
                            {
                                "x": 127.00157997889802,
                                "y": 37.54204660559324
                            },
                            {
                                "x": 127.00180939450739,
                                "y": 37.54181427297176
                            },
                            {
                                "x": 127.00212944522752,
                                "y": 37.541573695372605
                            },
                            {
                                "x": 127.0032345139683,
                                "y": 37.541015369063054
                            },
                            {
                                "x": 127.00356683037525,
                                "y": 37.54070280725485
                            },
                            {
                                "x": 127.00370608017965,
                                "y": 37.5404426785374
                            },
                            {
                                "x": 127.00417262447972,
                                "y": 37.53854540402679
                            },
                            {
                                "x": 127.00453533921414,
                                "y": 37.53764741468327
                            },
                            {
                                "x": 127.00473318511058,
                                "y": 37.53723460040269
                            },
                            {
                                "x": 127.0050446460946,
                                "y": 37.536786701158405
                            },
                            {
                                "x": 127.00509097877651,
                                "y": 37.536705997222775
                            },
                            {
                                "x": 127.00533299707705,
                                "y": 37.53637464829857
                            },
                            {
                                "x": 127.00533299707705,
                                "y": 37.53637464829857
                            },
                            {
                                "x": 127.00675920823066,
                                "y": 37.53462960889368
                            },
                            {
                                "x": 127.00882045932356,
                                "y": 37.531916750485244
                            },
                            {
                                "x": 127.00932920024246,
                                "y": 37.531092054348136
                            },
                            {
                                "x": 127.0102156597845,
                                "y": 37.52993713399382
                            },
                            {
                                "x": 127.01181227189346,
                                "y": 37.52812137434584
                            },
                            {
                                "x": 127.0144286384946,
                                "y": 37.525322951480454
                            },
                            {
                                "x": 127.01628687821021,
                                "y": 37.52338316467339
                            },
                            {
                                "x": 127.01715828044644,
                                "y": 37.52249837938252
                            },
                            {
                                "x": 127.01715828044644,
                                "y": 37.52249837938252
                            },
                            {
                                "x": 127.01720612736514,
                                "y": 37.52230054636759
                            },
                            {
                                "x": 127.0173914864117,
                                "y": 37.521968699849225
                            },
                            {
                                "x": 127.01750779277295,
                                "y": 37.52172638369107
                            },
                            {
                                "x": 127.01766216739713,
                                "y": 37.521169016190534
                            },
                            {
                                "x": 127.01765215522316,
                                "y": 37.52106981730043
                            },
                            {
                                "x": 127.01760986236096,
                                "y": 37.52084420275652
                            },
                            {
                                "x": 127.01750959485761,
                                "y": 37.520726232061904
                            },
                            {
                                "x": 127.01731812716206,
                                "y": 37.52066156556678
                            },
                            {
                                "x": 127.0171142846926,
                                "y": 37.52067789037582
                            },
                            {
                                "x": 127.01700057917624,
                                "y": 37.52072199660999
                            },
                            {
                                "x": 127.01684009081853,
                                "y": 37.52088284993735
                            },
                            {
                                "x": 127.01681640385088,
                                "y": 37.520963747345846
                            },
                            {
                                "x": 127.0168714245098,
                                "y": 37.52108134198736
                            },
                            {
                                "x": 127.0171167321628,
                                "y": 37.52135369900359
                            },
                            {
                                "x": 127.01728439661734,
                                "y": 37.52150827286647
                            },
                            {
                                "x": 127.01823950598595,
                                "y": 37.522002783692436
                            },
                            {
                                "x": 127.01904875513586,
                                "y": 37.522405970334454
                            },
                            {
                                "x": 127.01979026024662,
                                "y": 37.522799578718455
                            },
                            {
                                "x": 127.01988016518851,
                                "y": 37.52284537740228
                            },
                            {
                                "x": 127.02075683249916,
                                "y": 37.52328515389561
                            },
                            {
                                "x": 127.0210489395183,
                                "y": 37.52344075417237
                            },
                            {
                                "x": 127.0210489395183,
                                "y": 37.52344075417237
                            },
                            {
                                "x": 127.02058880852104,
                                "y": 37.52402262232863
                            },
                            {
                                "x": 127.0202551059441,
                                "y": 37.52445235886066
                            },
                            {
                                "x": 127.02023153926174,
                                "y": 37.52452424741218
                            },
                            {
                                "x": 127.02023153926174,
                                "y": 37.52452424741218
                            },
                            {
                                "x": 127.0201756860496,
                                "y": 37.52446972100093
                            },
                            {
                                "x": 127.02002945455915,
                                "y": 37.524405434163015
                            },
                            {
                                "x": 127.0199733658675,
                                "y": 37.52436892671673
                            },
                            {
                                "x": 127.0199733658675,
                                "y": 37.52436892671673
                            },
                            {
                                "x": 127.01987002538391,
                                "y": 37.52448520572985
                            },
                            {
                                "x": 127.01981252218185,
                                "y": 37.52455681255054
                            },
                            {
                                "x": 127.01981252218185,
                                "y": 37.52455681255054
                            },
                            {
                                "x": 127.01976762764455,
                                "y": 37.5245294084195
                            }
                        ]
                    },
                    {
                        "endX": 127.01969766666666,
                        "endY": 37.52463266666666,
                        "duration": 2001,
                        "distance": 5241,
                        "path": [
                            {
                                "x": 127.03237488944157,
                                "y": 37.48388768606233
                            },
                            {
                                "x": 127.03237488944157,
                                "y": 37.48388768606233
                            },
                            {
                                "x": 127.03220564877206,
                                "y": 37.483859268125684
                            },
                            {
                                "x": 127.03213827797113,
                                "y": 37.48382267393635
                            },
                            {
                                "x": 127.03194642566567,
                                "y": 37.48379407039195
                            },
                            {
                                "x": 127.031404787441,
                                "y": 37.48370853597157
                            },
                            {
                                "x": 127.031404787441,
                                "y": 37.48370853597157
                            },
                            {
                                "x": 127.03129756680714,
                                "y": 37.48413115394838
                            },
                            {
                                "x": 127.03129756680714,
                                "y": 37.48413115394838
                            },
                            {
                                "x": 127.03166996675014,
                                "y": 37.484188270185236
                            },
                            {
                                "x": 127.03166996675014,
                                "y": 37.484188270185236
                            },
                            {
                                "x": 127.03212278785249,
                                "y": 37.4841469277725
                            },
                            {
                                "x": 127.03280010222196,
                                "y": 37.48423356970268
                            },
                            {
                                "x": 127.03365773440618,
                                "y": 37.484366735633394
                            },
                            {
                                "x": 127.03398502931564,
                                "y": 37.48441446507717
                            },
                            {
                                "x": 127.03398502931564,
                                "y": 37.48441446507717
                            },
                            {
                                "x": 127.03417433242313,
                                "y": 37.48464127716485
                            },
                            {
                                "x": 127.03401268328261,
                                "y": 37.48490126230083
                            },
                            {
                                "x": 127.03367679888936,
                                "y": 37.48552024523579
                            },
                            {
                                "x": 127.03316585715655,
                                "y": 37.48656129160217
                            },
                            {
                                "x": 127.03303800333605,
                                "y": 37.486830562410866
                            },
                            {
                                "x": 127.03275875060278,
                                "y": 37.48744099536856
                            },
                            {
                                "x": 127.03245699626825,
                                "y": 37.48804223272963
                            },
                            {
                                "x": 127.03223554603741,
                                "y": 37.48855402138532
                            },
                            {
                                "x": 127.03199171177732,
                                "y": 37.48904760502312
                            },
                            {
                                "x": 127.03175918105256,
                                "y": 37.489541280739225
                            },
                            {
                                "x": 127.031724446548,
                                "y": 37.48960407003239
                            },
                            {
                                "x": 127.03148025639146,
                                "y": 37.490124681271176
                            },
                            {
                                "x": 127.03078286717056,
                                "y": 37.49158768400781
                            },
                            {
                                "x": 127.03008603275273,
                                "y": 37.49300563386422
                            },
                            {
                                "x": 127.03006283554647,
                                "y": 37.4930504962153
                            },
                            {
                                "x": 127.029295096276,
                                "y": 37.49470213323516
                            },
                            {
                                "x": 127.02888871496768,
                                "y": 37.495518754020495
                            },
                            {
                                "x": 127.0285162480976,
                                "y": 37.496335652150904
                            },
                            {
                                "x": 127.02802859159864,
                                "y": 37.497313791202295
                            },
                            {
                                "x": 127.02792378343575,
                                "y": 37.497547203185356
                            },
                            {
                                "x": 127.02774914062023,
                                "y": 37.49793321971287
                            },
                            {
                                "x": 127.02766823190767,
                                "y": 37.49806771206318
                            },
                            {
                                "x": 127.02749382020153,
                                "y": 37.498435708965225
                            },
                            {
                                "x": 127.02697034078221,
                                "y": 37.49955771701745
                            },
                            {
                                "x": 127.02659736426885,
                                "y": 37.50041064630369
                            },
                            {
                                "x": 127.02620304909351,
                                "y": 37.5011642823298
                            },
                            {
                                "x": 127.02600506922843,
                                "y": 37.50160416683432
                            },
                            {
                                "x": 127.02555045099423,
                                "y": 37.50264564062267
                            },
                            {
                                "x": 127.02491147907897,
                                "y": 37.50394689645856
                            },
                            {
                                "x": 127.0246557667725,
                                "y": 37.50447640723021
                            },
                            {
                                "x": 127.02462090195512,
                                "y": 37.50454820366802
                            },
                            {
                                "x": 127.02434198096518,
                                "y": 37.5051225747351
                            },
                            {
                                "x": 127.0239818970665,
                                "y": 37.50584945360342
                            },
                            {
                                "x": 127.02366833415537,
                                "y": 37.50647759987299
                            },
                            {
                                "x": 127.0233541789999,
                                "y": 37.50715079299337
                            },
                            {
                                "x": 127.0226219502186,
                                "y": 37.508658506163115
                            },
                            {
                                "x": 127.02249378436477,
                                "y": 37.508945782614035
                            },
                            {
                                "x": 127.0221678279663,
                                "y": 37.509654916640336
                            },
                            {
                                "x": 127.02171381097396,
                                "y": 37.51064231547925
                            },
                            {
                                "x": 127.02149304100519,
                                "y": 37.511091013199135
                            },
                            {
                                "x": 127.02146983285742,
                                "y": 37.51113587357478
                            },
                            {
                                "x": 127.02106268546525,
                                "y": 37.51199751047697
                            },
                            {
                                "x": 127.02065576397533,
                                "y": 37.512841126621176
                            },
                            {
                                "x": 127.02038396922005,
                                "y": 37.51373091460409
                            },
                            {
                                "x": 127.02030138088821,
                                "y": 37.513991534769566
                            },
                            {
                                "x": 127.0201347888854,
                                "y": 37.514620889404284
                            },
                            {
                                "x": 127.0198739382304,
                                "y": 37.515537798230554
                            },
                            {
                                "x": 127.01980312809295,
                                "y": 37.51576247360676
                            },
                            {
                                "x": 127.01970887103289,
                                "y": 37.516050027964894
                            },
                            {
                                "x": 127.01967317086607,
                                "y": 37.51618488944633
                            },
                            {
                                "x": 127.01953201915596,
                                "y": 37.51659820165846
                            },
                            {
                                "x": 127.01941407712292,
                                "y": 37.516966653771675
                            },
                            {
                                "x": 127.01918950047401,
                                "y": 37.51770365145708
                            },
                            {
                                "x": 127.01918950047401,
                                "y": 37.51770365145708
                            },
                            {
                                "x": 127.0191515578704,
                                "y": 37.518009693919346
                            },
                            {
                                "x": 127.01887783775224,
                                "y": 37.51904362970116
                            },
                            {
                                "x": 127.01861530313934,
                                "y": 37.52008666808404
                            },
                            {
                                "x": 127.01856486525341,
                                "y": 37.520482711508365
                            },
                            {
                                "x": 127.01856486525341,
                                "y": 37.520482711508365
                            },
                            {
                                "x": 127.01858512794105,
                                "y": 37.52066309012111
                            },
                            {
                                "x": 127.01903627634645,
                                "y": 37.52163096282878
                            },
                            {
                                "x": 127.01939918263054,
                                "y": 37.52242690141663
                            },
                            {
                                "x": 127.01962246981928,
                                "y": 37.522654017863694
                            },
                            {
                                "x": 127.01979026024662,
                                "y": 37.522799578718455
                            },
                            {
                                "x": 127.01988016518851,
                                "y": 37.52284537740228
                            },
                            {
                                "x": 127.02075683249916,
                                "y": 37.52328515389561
                            },
                            {
                                "x": 127.0210489395183,
                                "y": 37.52344075417237
                            },
                            {
                                "x": 127.0210489395183,
                                "y": 37.52344075417237
                            },
                            {
                                "x": 127.02058880852104,
                                "y": 37.52402262232863
                            },
                            {
                                "x": 127.0202551059441,
                                "y": 37.52445235886066
                            },
                            {
                                "x": 127.02023153926174,
                                "y": 37.52452424741218
                            },
                            {
                                "x": 127.02023153926174,
                                "y": 37.52452424741218
                            },
                            {
                                "x": 127.0201756860496,
                                "y": 37.52446972100093
                            },
                            {
                                "x": 127.02002945455915,
                                "y": 37.524405434163015
                            },
                            {
                                "x": 127.0199733658675,
                                "y": 37.52436892671673
                            },
                            {
                                "x": 127.0199733658675,
                                "y": 37.52436892671673
                            },
                            {
                                "x": 127.01987002538391,
                                "y": 37.52448520572985
                            },
                            {
                                "x": 127.01981252218185,
                                "y": 37.52455681255054
                            },
                            {
                                "x": 127.01981252218185,
                                "y": 37.52455681255054
                            },
                            {
                                "x": 127.01976762764455,
                                "y": 37.5245294084195
                            }
                        ]
                    },
                    {
                        "endX": 127.01969766666666,
                        "endY": 37.52463266666666,
                        "duration": 1230,
                        "distance": 3902,
                        "path": [
                            {
                                "x": 127.04726725364047,
                                "y": 37.517645141299084
                            },
                            {
                                "x": 127.04727833564249,
                                "y": 37.51766325176339
                            },
                            {
                                "x": 127.04724279863358,
                                "y": 37.51778911260572
                            },
                            {
                                "x": 127.04724279863358,
                                "y": 37.51778911260572
                            },
                            {
                                "x": 127.04740081067699,
                                "y": 37.5178174187429
                            },
                            {
                                "x": 127.04740081067699,
                                "y": 37.5178174187429
                            },
                            {
                                "x": 127.0472590060587,
                                "y": 37.518293833330766
                            },
                            {
                                "x": 127.0472590060587,
                                "y": 37.518293833330766
                            },
                            {
                                "x": 127.04742821583547,
                                "y": 37.518331240297215
                            },
                            {
                                "x": 127.04799251676268,
                                "y": 37.51843490601976
                            },
                            {
                                "x": 127.04912135212534,
                                "y": 37.518624210203896
                            },
                            {
                                "x": 127.0502385395468,
                                "y": 37.518840441566425
                            },
                            {
                                "x": 127.0502385395468,
                                "y": 37.518840441566425
                            },
                            {
                                "x": 127.04963606908801,
                                "y": 37.51996191220182
                            },
                            {
                                "x": 127.04910327947668,
                                "y": 37.520939771970035
                            },
                            {
                                "x": 127.04897610734366,
                                "y": 37.52115500078776
                            },
                            {
                                "x": 127.04879043169058,
                                "y": 37.521522937326274
                            },
                            {
                                "x": 127.04857036132455,
                                "y": 37.52192663859184
                            },
                            {
                                "x": 127.04830389689762,
                                "y": 37.52242007086725
                            },
                            {
                                "x": 127.04817591866644,
                                "y": 37.522698365951655
                            },
                            {
                                "x": 127.0480136603169,
                                "y": 37.52300341615307
                            },
                            {
                                "x": 127.04787448252108,
                                "y": 37.523272610068524
                            },
                            {
                                "x": 127.04775861476018,
                                "y": 37.52348792858192
                            },
                            {
                                "x": 127.04739969534037,
                                "y": 37.524133792097565
                            },
                            {
                                "x": 127.04730736561956,
                                "y": 37.52427721576525
                            },
                            {
                                "x": 127.04692512630918,
                                "y": 37.524976952743266
                            },
                            {
                                "x": 127.0466698374631,
                                "y": 37.52547948166823
                            },
                            {
                                "x": 127.04646174407846,
                                "y": 37.52582921214798
                            },
                            {
                                "x": 127.04628942107334,
                                "y": 37.526035062731154
                            },
                            {
                                "x": 127.04601482667856,
                                "y": 37.52627612906396
                            },
                            {
                                "x": 127.04586638853432,
                                "y": 37.526383056193325
                            },
                            {
                                "x": 127.045661387841,
                                "y": 37.526489526078336
                            },
                            {
                                "x": 127.04538839711648,
                                "y": 37.52660445657595
                            },
                            {
                                "x": 127.04455971625029,
                                "y": 37.52682301841058
                            },
                            {
                                "x": 127.04377662568884,
                                "y": 37.527014911976295
                            },
                            {
                                "x": 127.04319761697518,
                                "y": 37.52717241182033
                            },
                            {
                                "x": 127.04234618345083,
                                "y": 37.52739978420784
                            },
                            {
                                "x": 127.0406890132344,
                                "y": 37.52781883958542
                            },
                            {
                                "x": 127.03983768058289,
                                "y": 37.52803718407751
                            },
                            {
                                "x": 127.03915684210831,
                                "y": 37.52819383604799
                            },
                            {
                                "x": 127.03836229572809,
                                "y": 37.5283946108081
                            },
                            {
                                "x": 127.03693191643535,
                                "y": 37.52877040704663
                            },
                            {
                                "x": 127.03578585064781,
                                "y": 37.52903137084667
                            },
                            {
                                "x": 127.03524167703704,
                                "y": 37.52911703176058
                            },
                            {
                                "x": 127.03453958756707,
                                "y": 37.529165357240565
                            },
                            {
                                "x": 127.03378151438464,
                                "y": 37.529168167971854
                            },
                            {
                                "x": 127.03321668893894,
                                "y": 37.52910047190977
                            },
                            {
                                "x": 127.03258445342091,
                                "y": 37.52899617893255
                            },
                            {
                                "x": 127.03233615466209,
                                "y": 37.52894909214483
                            },
                            {
                                "x": 127.03126598765839,
                                "y": 37.52858890876121
                            },
                            {
                                "x": 127.03081581135855,
                                "y": 37.52840500502233
                            },
                            {
                                "x": 127.03037753304702,
                                "y": 37.52817614471748
                            },
                            {
                                "x": 127.0301975807883,
                                "y": 37.528093572540165
                            },
                            {
                                "x": 127.02930960505323,
                                "y": 37.527644762391674
                            },
                            {
                                "x": 127.0289050397988,
                                "y": 37.52743419475427
                            },
                            {
                                "x": 127.02853406375199,
                                "y": 37.52725093356716
                            },
                            {
                                "x": 127.02826443413693,
                                "y": 37.52710454718831
                            },
                            {
                                "x": 127.02774745211869,
                                "y": 37.52683898751634
                            },
                            {
                                "x": 127.0275451151322,
                                "y": 37.52673820601183
                            },
                            {
                                "x": 127.02736528648934,
                                "y": 37.52664662004496
                            },
                            {
                                "x": 127.02688189680227,
                                "y": 37.526408364777176
                            },
                            {
                                "x": 127.02640970543857,
                                "y": 37.526179210364376
                            },
                            {
                                "x": 127.02630836302812,
                                "y": 37.5261423328434
                            },
                            {
                                "x": 127.0253756540215,
                                "y": 37.52565708238025
                            },
                            {
                                "x": 127.02390349544059,
                                "y": 37.524897052047116
                            },
                            {
                                "x": 127.02307168619942,
                                "y": 37.524484701414856
                            },
                            {
                                "x": 127.02239719586133,
                                "y": 37.52415474185441
                            },
                            {
                                "x": 127.02172329974316,
                                "y": 37.523779730833425
                            },
                            {
                                "x": 127.0210489395183,
                                "y": 37.52344075417237
                            },
                            {
                                "x": 127.0210489395183,
                                "y": 37.52344075417237
                            },
                            {
                                "x": 127.02058880852104,
                                "y": 37.52402262232863
                            },
                            {
                                "x": 127.0202551059441,
                                "y": 37.52445235886066
                            },
                            {
                                "x": 127.02023153926174,
                                "y": 37.52452424741218
                            },
                            {
                                "x": 127.02023153926174,
                                "y": 37.52452424741218
                            },
                            {
                                "x": 127.0201756860496,
                                "y": 37.52446972100093
                            },
                            {
                                "x": 127.02002945455915,
                                "y": 37.524405434163015
                            },
                            {
                                "x": 127.0199733658675,
                                "y": 37.52436892671673
                            },
                            {
                                "x": 127.0199733658675,
                                "y": 37.52436892671673
                            },
                            {
                                "x": 127.01987002538391,
                                "y": 37.52448520572985
                            },
                            {
                                "x": 127.01981252218185,
                                "y": 37.52455681255054
                            },
                            {
                                "x": 127.01981252218185,
                                "y": 37.52455681255054
                            },
                            {
                                "x": 127.01976762764455,
                                "y": 37.5245294084195
                            }
                        ]
                    }
                ]
                //이상 mockdata
            } });
        }
    };


    return(
        <>
            <div class="func-container">
                <p style={{ fontWeight: '700' }}>출발지를 입력하고 중간장소를<br/>찾아보세요!</p>
                {addresses.map((addr, i) => (
                    <button
                    key={i}
                    className="address-button"
                    onClick={() => setActiveIndex(i)}
                    >
                    {addr.label || '출발지를 입력해주세요'}
                    </button>
                ))}
                <button class="add-button" onClick={handleAddFriend} disabled={addresses.length >= 3}><img src={addbuttonimg} alt='addbutton' height='16px' width='15px' /> 친구 추가하기</button>
                <button class="find-button" onClick={handleFindMidpoint}>중간장소 찾기</button>

                

                {/*
                {showAlert && (
                    <div className="bottom-alert">출발 장소를 입력해주세요.</div>
                )}*/}
            </div>
            {activeIndex !== null && (
                    <Sidebar
                    onClose={() => setActiveIndex(null)}
                    onSelect={(label, lat, lng) =>
                        handleSelectAddress(activeIndex, label, lat, lng)
                    }
                    />
                ) }
        </>
    );
};

export default FindMidpoint;